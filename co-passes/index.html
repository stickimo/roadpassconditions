<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CO Pass Conditions | Colorado Mountain Pass Weather & Status</title>
    <meta name="description" content="Colorado mountain pass conditions with live National Weather Service data." />
    <link rel="stylesheet" href="assets/styles.css" />
  </head>
  <body>
    <header class="site-header">
      <h1>CO Pass Conditions</h1>
      <p>Fast mountain pass snapshot built for travelers and dispatchers.</p>
    </header>
    <main>
      <section class="hero">
        <h2>Colorado Pass Overview</h2>
        <p>Updated from official weather sources. Road status info may be delayed.</p>
      </section>
      <section>
        <h2>Colorado Passes</h2>
        <ul class="pass-list" id="pass-list-co"></ul>
      </section>
      <section>
        <h2>Other States</h2>
        <ul class="pass-list" id="pass-list-other"></ul>
      </section>
    </main>
    <footer class="site-footer">
      <p>&copy; <span id="year"></span> CO Pass Conditions. Built with live National Weather Service data.</p>
      <p><a href="about.html">About</a> • <a href="privacy.html">Privacy</a> • <a href="contact.html">Contact</a></p>
    </footer>
    <script type="module">
      import { onReady, formatElevation } from './assets/app.js';
      import { getPasses } from './assets/passes.js';

      onReady(() => {
        document.getElementById('year').textContent = new Date().getFullYear();
        const listCo = document.getElementById('pass-list-co');
        const listOther = document.getElementById('pass-list-other');
        const passes = getPasses();
        listCo.innerHTML = '';
        listOther.innerHTML = '';
        passes.forEach((pass) => {
          const item = document.createElement('li');
          item.className = 'pass-card';
          item.innerHTML = `
            <h3>${pass.name}</h3>
            <p>${pass.route_label} • ${formatElevation(pass.elevation_ft)}</p>
            <a href="pass.html?pass=${pass.id}">View conditions</a>
          `;
          if (pass.state === 'CO') {
            listCo.appendChild(item);
          } else {
            listOther.appendChild(item);
          }
        });
      });
    </script>
  </body>
</html>
